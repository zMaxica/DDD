local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

local collectFolder = Workspace:FindFirstChild("Collect")

-- üîÑ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏≤‡∏£‡πå‡∏°
local function startFarming()
    if not collectFolder then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Collect! ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå")
        return
    end

    print("üìç ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°...")

    while true do
        local foundPart = false
        local startTime = tick()

        -- ‡∏´‡∏≤‡∏°‡∏≠‡∏ô‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Collect ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
        for _, part in ipairs(collectFolder:GetChildren()) do
            if part:IsA("BasePart") then
                local targetCFrame = part.CFrame

                -- TP ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏°‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠
                humanoidRootPart.CFrame = targetCFrame
                print("‚öî TP ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏°‡∏≠‡∏ô: " .. tostring(targetCFrame))

                foundPart = true
                task.wait(2.5)
            end
        end

        -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏û‡∏±‡∏Å 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
        if not foundPart then
            task.wait(0.5)
        end

        -- üìå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏ñ‡πâ‡∏≤‡∏û‡∏ö‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏≤‡∏£‡πå‡∏°
        if collectFolder:FindFirstChild("32") then
            print("üö® ‡∏û‡∏ö‡∏ö‡∏≠‡∏™! ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏£‡πå‡∏°...")
            break
        end
    end

    -- üõë ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏à‡∏ö‡∏•‡∏á‡πÅ‡∏•‡πâ‡∏ß
    print("‚úÖ ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡∏≠‡∏™...")
end

-- üèÜ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡∏≠‡∏™‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ
local function checkBossAndParty()
    if not collectFolder then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Collect!")
        return
    end

    local boss = collectFolder:FindFirstChild("32")
    if boss then
        print("‚úÖ ‡∏û‡∏ö‡∏ö‡∏≠‡∏™! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ö‡∏≠‡∏™‡∏ï‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á...")

        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ö‡∏≠‡∏™‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
        while boss.Parent do
            task.wait(1)  -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            
            if not collectFolder:FindFirstChild("32") then
                print("üéâ ‡∏ö‡∏≠‡∏™‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß! ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ...")

                -- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ
                local args1 = { [1] = "createParty", [2] = "zMaxikax's Party", [3] = 4 }
                ReplicatedStorage.PartySystemRE:FireServer(unpack(args1))

                task.wait(1)

                -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ
                local args2 = { [1] = "startParty", [2] = "zMaxikax's Party" }
                ReplicatedStorage.PartySystemRE:FireServer(unpack(args2))

                print("üéâ ‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß!")
                return  
            end
        end
    else
        print("‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™! ‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...")
        task.wait(5)
        checkBossAndParty()
    end
end

-- üèÅ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
task.spawn(startFarming) -- ‡∏ü‡∏≤‡∏£‡πå‡∏°
task.spawn(checkBossAndParty) -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ö‡∏≠‡∏™
